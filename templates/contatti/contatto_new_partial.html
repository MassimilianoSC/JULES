<!-- Form per nuovo contatto -->
<form hx-post="/contatti/new" 
      hx-target="#contatti-list" 
      hx-swap="none"
      class="space-y-4">
    
    <div>
        <label for="name" class="block text-sm font-medium text-gray-700">Nome</label>
        <input type="text" 
               name="name" 
               id="name" 
               required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <div>
        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" 
               name="email" 
               id="email" 
               required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <div>
        <label for="phone" class="block text-sm font-medium text-gray-700">Telefono</label>
        <input type="tel" 
               name="phone" 
               id="phone"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <!-- BU -->
    <div>
        <label for="bu" class="block text-sm font-medium text-gray-700">BU</label>
        <input type="text" 
               name="bu" 
               id="bu"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <!-- Team -->
    <div>
        <label for="team" class="block text-sm font-medium text-gray-700">Team</label>
        <input type="text" 
               name="team" 
               id="team"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
    </div>

    <!-- Filiale lavorativa -->
    <div class="grid gap-2">
      <label class="text-sm font-medium text-slate-700" for="work_branch_partial">Filiale Lavorativa</label>
      <select name="work_branch" id="work_branch_partial" required
              class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 focus:border-blue-500 focus:ring-blue-500">
        <option value="">Seleziona filiale</option>
        {% for b in branches %}<option value="{{ b }}">{{ b }}</option>{% endfor %}
      </select>
    </div>

    <!-- ░░ Destinatario ░░ -->
    <fieldset class="grid gap-4 border border-slate-300 rounded-lg p-4">
      <legend class="px-2 text-sm font-semibold text-slate-600">Destinatario</legend>

      <!-- Filiale -->
      <div class="grid gap-2">
        <label class="text-sm font-medium text-slate-700">Filiale</label>
        <select name="branch" required
                class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 focus:border-blue-500 focus:ring-blue-500">
          <option value="*">Tutte</option>
          {% for b in branches %}
            {% if b != "*" %}
              <option value="{{ b }}">{{ b }}</option>
            {% endif %}
          {% endfor %}
        </select>
      </div>

      <!-- Tipologia assunzione -->
      <div class="grid gap-2">
        <label class="text-sm font-medium text-slate-700">Tipologia assunzione</label>
        <select name="employment_type"
                class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 focus:border-blue-500 focus:ring-blue-500">
          <option value="*">Tutte</option>
          {% for t in hire_types %}<option value="{{ t.id }}">{{ t.label }}</option>{% endfor %}
        </select>
      </div>
    </fieldset>

    <!-- Evidenza in home -->
    <div class="mt-4"> <!-- Aggiunto un po' di margine sopra -->
      <label class="inline-flex items-center gap-2 text-sm text-slate-700">
        <input type="checkbox" id="show_on_home_partial" name="show_on_home" value="true" class="h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500">
        Metti in evidenza sulla home
      </label>
    </div>

    <div class="flex justify-end space-x-3">
        <button type="button" 
                data-close-modal
                class="inline-flex items-center gap-1 rounded-lg bg-slate-100 px-6 py-2 text-sm font-medium text-slate-700 shadow hover:bg-slate-200 transition">
            Annulla
        </button>
        <button type="submit"
                class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Salva
        </button>
    </div>
</form> 