<div class="comment flex items-start space-x-3 p-4" id="comment-{{ comment._id }}">
    <div class="flex-shrink-0">
        <img src="/static/img/avatar-default.png" alt="Avatar" class="h-10 w-10 rounded-full">
    </div>
    <div class="flex-1">
        <div class="flex items-center justify-between">
            <div class="text-sm font-medium text-gray-900">{{ comment.user_name }}</div>
            <div class="text-xs text-gray-500">{{ comment.created_at | format_datetime }}</div>
        </div>
        <div class="mt-1 prose prose-sm max-w-none text-gray-800">
            {{ comment.content | markdown | safe }}
        </div>
        
        <!-- Reactions -->
        <div class="mt-2 flex items-center space-x-2">
            <button class="reaction-button text-gray-500 hover:text-gray-700"
                    data-comment-id="{{ comment._id }}"
                    data-reaction="like">
                <span class="reaction-count">{{ comment.reactions.get('like', 0) }}</span>
                <i class="fas fa-thumbs-up"></i>
            </button>
        </div>

        <!-- Reply button -->
        <button class="reply-button mt-2 text-sm text-gray-500 hover:text-gray-700"
                data-comment-id="{{ comment._id }}">
            Rispondi
        </button>

        <!-- Replies container -->
        <div class="replies-container mt-4 space-y-4 pl-4 border-l-2 border-gray-200">
            <!-- Replies will be loaded here -->
        </div>
    </div>
</div> 